(this.webpackJsonphack465=this.webpackJsonphack465||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(10),s=n.n(i),c=(n(32),n(5)),o=(n(33),n(3)),u=n(12),d=n(13),l=n(8),h=n(15),m=n(14),b=(n(38),n(39),n(2)),p=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).onConfirm=function(){r.setShowAlert(!1),r.props.showSwipeGamePage()},r.onImgLoad=function(e){var t=e.target;r.setState({dimensions:{height:t.naturalHeight,width:t.naturalWidth}})},r.onClick=function(){r.setShowAlert(!0)},r.state={showAlert:!1,showSwipe:!1,screenWidth:0,screenHeight:0,dimensions:{},setShowGrubHubApp:r.props.setShowGrubHubApp},r.updateOnTimeout=r.updateOnTimeout.bind(Object(l.a)(r)),r.setShowAlert=r.setShowAlert.bind(Object(l.a)(r)),r.onConfirm=r.onConfirm.bind(Object(l.a)(r)),r.url="./img/fakeLongBg.jpg",r.customStyles={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",borderRadius:"4px"}},r.updateWindowDimensions=r.updateWindowDimensions.bind(Object(l.a)(r)),r.onImgLoad=r.onImgLoad.bind(Object(l.a)(r)),r}return Object(d.a)(n,[{key:"updateWindowDimensions",value:function(){this.setState({screenWidth:window.innerWidth,screenHeight:window.innerHeight})}},{key:"componentDidMount",value:function(){this.updateOnTimeout(),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"updateOnTimeout",value:function(){var e=this;setTimeout((function(){e.setState({showAlert:!0})}),4e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.screenWidth,r=t.dimensions,a=Object(b.jsx)("img",{src:this.url,alt:"fake background",className:"fake-gh-app__bg",onLoad:this.onImgLoad});return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{alt:"fake grubhub app",className:"fake-gh-app",children:[a,Object(b.jsx)("div",{style:{backgroundColor:"red",width:"".concat(212*n/(r.width/3),"px"),height:"".concat(227*n/(r.width/3),"px"),position:"absolute",top:"".concat(n/(r.width/3)*478,"px"),left:"".concat(n/(r.width/3)*16,"px"),opacity:"0%"},onClick:this.onClick}),Object(b.jsx)(o.f,{isOpen:this.state.showAlert,as:"aside",title:"Can't decide what to order?",description:"Let us help! Find your perfect dish with GrubMatch.",primaryActionLabel:"Find my GrubMatch",secondaryActionLabel:"No thanks",onPrimaryActionClick:this.onConfirm,onSecondaryActionClick:function(){return e.setShowAlert(!1)},direction:"column"})]})})}}]),n}(a.a.Component),j=n(24),x=n(6),f=n.n(x),g=n(9),v=n(0),w=n(43),O=300,y=5,k=.2,S=200,_=function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("width"),r=Number(n.split("px")[0]),a=t.getPropertyValue("height");return{x:r,y:Number(a.split("px")[0])}},C=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},N=function(){var e=Object(g.a)(f.a.mark((function e(t,n){var r,a,i,s,c,o,u,d,l,h,m=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>2&&void 0!==m[2]&&m[2],a=A(t),i=_(document.body),s=C(i.x,i.y),c=C(n.x,n.y),o=s/c,u=s/c,d=R(n.x*u+a.x,-n.y*u+a.y),l="",h=200,t.style.transition=r?"ease "+o+"s":"ease-out "+o+"s",l=0===D(t)?W((Math.random()-.5)*h):D(t)>0?W(Math.random()*h/2+D(t)):W((Math.random()-1)*h/2+D(t)),t.style.transform=d+l,e.next=15,w(1e3*o);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.style.transition=O+"ms",n=A(t),r=R(n.x*-k,n.y*-k),a=W(D(t)*-k),t.style.transform=r+a,e.next=7,w(.75*O);case 7:return t.style.transform="none",e.next=10,w(O);case 10:t.style.transition="10ms";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Math.abs(e.x)>Math.abs(e.y)?e.x>0?"right":"left":e.y>0?"up":"down"},M=function(e,t){var n=t.x-e.x,r=e.y-t.y,a=(t.time-e.time)/1e3;return{x:n/a,y:r/a}},R=function(e,t){return"translate("+e+"px, "+t+"px)"},W=function(e){return"rotate("+e+"deg)"},A=function(e){var t=window.getComputedStyle(e),n=new WebKitCSSMatrix(t.webkitTransform);return{x:n.m41,y:n.m42}},D=function(e){var t=window.getComputedStyle(e),n=new WebKitCSSMatrix(t.webkitTransform);return-Math.asin(n.m21)/(2*Math.PI)*360},I=function(e,t,n,r){var a={x:e.x+n.x,y:e.y+n.y},i={x:a.x,y:a.y,time:(new Date).getTime()},s=R(a.x,a.y),c=M(r,i).x/1e3,o=W(c*y);return t.style.transform=s+o,i},T=function(e,t){var n="middle",r=e.x+t.x;e.y,t.y;return r>0?n="right":r<0&&(n="left"),n},H=function(e){var t=e.targetTouches[0];return{x:t.clientX,y:t.clientY}},E=function(e){return{x:e.clientX,y:e.clientY}},F=v.forwardRef((function(e,t){var n=e.flickOnSwipe,r=void 0===n||n,a=e.children,i=e.onSwipe,s=e.onMove,c=e.onCardLeftScreen,o=e.className,u=e.preventSwipe,d=void 0===u?[]:u,l=v.useRef(!1),h=v.useRef();v.useImperativeHandle(t,(function(){return{swipe:function(){var e=arguments;return Object(g.a)(f.a.mark((function t(){var n,r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:"right",i&&i(n),r=1e3,a=100*(Math.random()-.5),"right"!==n){t.next=9;break}return t.next=7,N(h.current,{x:r,y:a},!0);case 7:t.next=22;break;case 9:if("left"!==n){t.next=14;break}return t.next=12,N(h.current,{x:-r,y:a},!0);case 12:t.next=22;break;case 14:if("up"!==n){t.next=19;break}return t.next=17,N(h.current,{x:a,y:r},!0);case 17:t.next=22;break;case 19:if("down"!==n){t.next=22;break}return t.next=22,N(h.current,{x:a,y:-r},!0);case 22:h.current.style.display="none",c&&c(n);case 24:case"end":return t.stop()}}),t)})))()},restoreCard:function(){return Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.current.style.display="block",e.next=3,L(h.current);case 3:case"end":return e.stop()}}),e)})))()}}}));var m=v.useCallback(function(){var e=Object(g.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=2;break}return e.abrupt("return");case 2:if(l.current=!0,!(Math.abs(n.x)>S||Math.abs(n.y)>S)){e.next=13;break}if(a=B(n),i&&i(a),!r){e.next=13;break}if(d.includes(a)){e.next=13;break}return e.next=10,N(t,n);case 10:return t.style.display="none",c&&c(a),e.abrupt("return");case 13:L(t);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l,r,i,c,d]),b=v.useCallback((function(){l.current=!1}),[l]);return v.useLayoutEffect((function(){var e={x:null,y:null},t={x:0,y:0},n={x:0,y:0,time:(new Date).getTime()},r=!1;h.current.addEventListener("touchstart",(function(t){t.preventDefault(),b(),e={x:-H(t).x,y:-H(t).y}})),h.current.addEventListener("mousedown",(function(t){t.preventDefault(),r=!0,b(),e={x:-E(t).x,y:-E(t).y}})),h.current.addEventListener("touchmove",(function(r){r.preventDefault();var a=I(H(r),h.current,e,n);t=M(n,a),n=a;var i={x:H(r).x+e.x,y:H(r).y+e.y};s&&s(T(H(r),e),i)})),h.current.addEventListener("mousemove",(function(a){if(a.preventDefault(),r){var i=I(E(a),h.current,e,n);t=M(n,i),n=i;var c={x:E(a).x+e.x,y:E(a).y+e.y};s&&s(T(E(a),e),c)}})),h.current.addEventListener("touchend",(function(e){e.preventDefault(),m(h.current,t),s("middle",{x:0,y:0})})),h.current.addEventListener("mouseup",(function(e){r&&(e.preventDefault(),r=!1,m(h.current,t),s("middle",{x:0,y:0}))})),h.current.addEventListener("mouseleave",(function(e){r&&(e.preventDefault(),r=!1,m(h.current,t),s("middle",{x:0,y:0}))}))}),[]),v.createElement("div",{ref:h,className:o},a)})),G=(n(44),[{name:"Bibimbop",url:"./img/bibimbop.jpg",restaurant_list:[{restaurant_id:"Rice N Bread",restaurant_name:"Bibimbop Restaurant 1",description:"Grilled spicy bulgogi squid and fresh green lettuce on a bed of rice."},{restaurant_id:"restaurant_2",restaurant_name:"Bibimbop Restaurant 2"}]},{name:"Big League Burgers",url:"./img/burger.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Burger 1",description:"4 oz Angus Custom House Blend Pattie, American cheese, pickles, grilled onion and mayo on a sesame brioche bun."},{restaurant_id:"restaurant_2",restaurant_name:"Burger Restaurant 2"}]},{name:"Meatballs",url:"./img/meatballs.jpg",restaurant_list:[{restaurant_id:"Kid's Spaghetti And Meatballs",restaurant_name:"Meatballs Restaurant 1",description:"sunday sauce, pecorino, hearth bread"},{restaurant_id:"restaurant_2",restaurant_name:"Meatballs Restaurant 2"}]},{name:"Rice Noodles",url:"./img/rice-noodles.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Rice Noodles Restaurant 1"},{restaurant_id:"restaurant_2",restaurant_name:"Rice Noodles Restaurant 2"}]},{name:"Salmon",url:"./img/salmon.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Fresh Salmon Restaurant 1"},{restaurant_id:"restaurant_2",restaurant_name:"Multidish Restaurant 2"}]},{name:"Burrito Bowl",url:"./img/burrito-bowl.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Fresh Salmon Restaurant 1"},{restaurant_id:"restaurant_2",restaurant_name:"Multidish Restaurant 2"}]},{name:"Nigiri",url:"./img/nigiri.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Fresh Salmon Restaurant 1"},{restaurant_id:"restaurant_2",restaurant_name:"Multidish Restaurant 2"}]}]),P=G.sort((function(){return.5-Math.random()}));(G=P.slice(0,5))[0].isLast=!0;var z=[],Y=function(e){var t=e.setActiveDirection,n=e.setIsSwipeComplete,a=e.setRecommendationListShort,i=(e.recommendationListShort,Object(r.useState)()),s=Object(c.a)(i,2),o=(s[0],s[1]),u=Object(r.useState)(void 0),d=Object(c.a)(u,2),l=(d[0],d[1]),h=Object(r.useState)({x:0,y:0}),m=Object(c.a)(h,2),p=(m[0],m[1]),j=Object(r.useState)([]),x=Object(c.a)(j,2),f=(x[0],x[1],function(e,n){l(e),p(n),t(e)});return Object(b.jsx)("div",{className:"cardContainer",children:G.map((function(e){return Object(b.jsxs)(F,{className:"swipe",onSwipe:function(t){return function(e,t){console.log("removing: "+t.name),o(e),t.isLast&&(n(!0),a(z)),console.log(e),"right"===e&&z.push(t)}(t,e)},onCardLeftScreen:function(){return t=e.name,void console.log(t+" left the screen!");var t},onMove:f,children:[Object(b.jsx)("div",{style:{backgroundImage:"url("+e.url+")"},className:"card"}),Object(b.jsx)("div",{className:"cardBottom",children:Object(b.jsx)("h4",{children:e.name})})]},e.name)}))})},K=(n(45),[{name:"Bibimbop",url:"./img/bibimbop.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Bibimbop Restaurant 1"},{restaurant_id:"restaurant_2",restaurant_name:"Bibimbop Restaurant 2"}]},{name:"Burger",url:"./img/burger.jpg",restaurant_list:[{restaurant_id:"restaurant_1",restaurant_name:"Burger 1"},{restaurant_id:"restaurant_2",restaurant_name:"Burger Restaurant 2"}]}]),q=function(e){var t=e.goBack,n=e.setShowRestaurantList,a=e.setShowSwipe,i=Object(r.useState)("right"),s=Object(c.a)(i,2),u=s[0],d=s[1],l=Object(r.useState)(!1),h=Object(c.a)(l,2),m=h[0],p=h[1],j=Object(r.useState)([]),x=Object(c.a)(j,2),f=x[0],g=x[1],v=Object(r.useState)([]),w=Object(c.a)(v,2),O=(w[0],w[1],Object(r.useState)(0)),y=Object(c.a)(O,2),k=y[0],S=y[1],_=0===f.length?K:f,C=Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("div",{className:"cardHeader",children:Object(b.jsx)("h4",{children:"Are you hungry for this right now?"})}),Object(b.jsxs)("div",{className:"divideBackground",children:[Object(b.jsxs)("div",{className:"divide divideLeft ".concat("left"===u?"active":""),children:[Object(b.jsx)("h4",{children:"Not today, thnx."}),Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)(o.g,{}),Object(b.jsx)("p",{children:"swipe left"})]})]}),Object(b.jsxs)("div",{className:"divide divideRight ".concat("right"===u?"active":""),children:[Object(b.jsx)("h4",{children:"Yum, yes please"}),Object(b.jsxs)("div",{className:"instruction",children:[Object(b.jsx)("p",{className:"instruction__right",children:"swipe right"}),Object(b.jsx)(o.h,{})]})]})]}),Object(b.jsx)(Y,{setActiveDirection:d,setIsSwipeComplete:p,setRecommendationListShort:g,recommendationListShort:f})]}),N=Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("img",{className:"sticker",src:"./img/sticker.png",alt:"sticker"}),Object(b.jsx)("div",{className:"cardHeader",children:Object(b.jsx)("h4",{children:"We found you a Grubhub Match!"})}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"cardWrapper",children:[Object(b.jsx)("div",{style:{backgroundImage:"url("+_[k].url+")"},className:"card"}),Object(b.jsxs)("div",{className:"cardBottom",children:[Object(b.jsx)("h4",{children:"Sushi Platter"}),Object(b.jsx)(o.c,{color:"secondaryText",children:"This description has a max of 3 lines of text. Truncate manually. You can also resize this to 44px if it has no badge..."})]})]}),Object(b.jsxs)("div",{className:"restaurantInfo",children:[Object(b.jsx)(o.d,{variant:"h4",children:"Sushi Restaurant"}),Object(b.jsxs)("div",{className:"moreInfo",children:[Object(b.jsx)(o.e,{color:"#FDBB70",children:Object(b.jsx)(o.i,{})}),Object(b.jsx)("div",{className:"moreInfo__address",children:Object(b.jsx)(o.c,{color:"secondaryText",children:"4.5 (1.5k) \u2022 124 Smith St"})}),Object(b.jsx)(o.c,{children:"20\u201330 mins"})]})]})]}),Object(b.jsx)("div",{className:"footer",children:Object(b.jsx)(o.a,{isStackedOnMobile:!1,primary:{onClick:function(){},text:"Add to bag - $10.79"},secondary:{onClick:k>=2?function(){console.log("match list"),n(!0),a(!1)}:function(){S(k+1)},text:k>=2?"See all Grubhub Matches":"Show me another"}})})]});return Object(b.jsxs)("div",{className:"swipeWrapper",children:[Object(b.jsx)("div",{className:"topBar",onClick:t,children:Object(b.jsx)(o.e,{color:"#545470",children:Object(b.jsx)(o.g,{})})}),m?N:C]})},J=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).onImgLoad=function(e){var t=e.target;r.setState({dimensions:{height:t.naturalHeight,width:t.naturalWidth}})},r.onClick=function(){r.props.goBacktoSwipeGame()},r.onClickBack=function(){r.props.goBack()},r.url="./img/match-list.jpg",r.state={screenWidth:0,screenHeight:0,dimensions:{}},r}return Object(d.a)(n,[{key:"updateWindowDimensions",value:function(){this.setState({screenWidth:window.innerWidth,screenHeight:window.innerHeight})}},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this.state,t=e.screenWidth,n=e.dimensions;return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:this.url,alt:"fake restaurants",className:"fake-rr__bg",onLoad:this.onImgLoad}),Object(b.jsx)("div",{style:{backgroundColor:"red",width:"".concat(342*t/(n.width/3),"px"),height:"".concat(240*t/(n.width/3),"px"),position:"absolute",top:"".concat(t/(n.width/3)*945,"px"),left:"".concat(t/(n.width/3)*16,"px"),opacity:"0%"},onClick:this.onClick}),Object(b.jsx)("div",{style:{backgroundColor:"red",width:"".concat(342*t/(n.width/3),"px"),height:"".concat(48*t/(n.width/3),"px"),position:"absolute",top:"".concat(t/(n.width/3)*52,"px"),left:"".concat(t/(n.width/3)*16,"px"),opacity:"0%"},onClick:this.onClickBack})]})}}]),n}(a.a.Component);var V=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!0),s=Object(c.a)(i,2),u=s[0],d=s[1],l=Object(r.useState)(!1),h=Object(c.a)(l,2),m=h[0],x=h[1];if(!j.isMobile)return Object(b.jsx)(o.b,{theme:o.j,children:Object(b.jsx)(o.d,{variant:"h4",children:"To get a better experience, please use a mobile device to open the link"})});var f=function(){a(!0),d(!1),x(!1)},g=function(){a(!1),d(!0),x(!1)};return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(o.b,{theme:o.j,children:[u?Object(b.jsx)(p,{showSwipeGamePage:f}):"",n?Object(b.jsx)(q,{goBack:g,setShowRestaurantList:x,setShowSwipe:a}):"",m?Object(b.jsx)(J,{goBacktoSwipeGame:f,goBack:g}):""]})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root")),X()}},[[46,1,2]]]);
//# sourceMappingURL=main.bdabae1d.chunk.js.map